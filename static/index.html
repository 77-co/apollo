<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apollo</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="./assets/js/screensaver-gradient.js"></script>

    <script src="./assets/js/animator.js"></script>
    <script src="./assets/js/dialogue.js"></script>

    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/widgets.css">
    <link rel="stylesheet" href="./assets/css/apps.css">
    <link rel="stylesheet" href="./assets/css/apolloui.css">
    <link rel="stylesheet" href="./assets/css/dialogue.css">
</head>
<body>
    <!-- <div class="dialog">
        <div class="header">
            <h1>Wymagana autoryzacja</h1>
            <p>Musisz podać hasło, aby Apollo mógł przyłączyć się do sieci Wi-Fi.</p>
        </div>
        <div class="content">

        </div>
        <div class="footer">
            
        </div>
    </div> -->

    <div id="welcome">
        <span id="welcomeText">Apollo</span>
    </div>
    <div id="screensaver">
        <canvas></canvas>
        <span class="shorttime"></span>
        <span class="shortdate"></span>
    </div>

    <div class="bodyWrapper">
        <div class="dialogueContainer">
            
        </div>
        <div class="apps" id="apps">
            <div class="apolloOverlay">
                <span class="prompt-intro">Słucham...</span>
                <p class="transcript"></p>
                <div class="listening-processing-indicator">
                    <div class="circle"></div>
                    <div class="circle"></div>
                    <div class="circle"></div>
                </div>
            </div>
            <span class="material-symbols-outlined" id="closeAppButton">close</span>
            <div class="app" id="timeApp">
                <span class="appTitle">Czas</span>
                <h1 class="fulltime"></h1>
                <h3 class="fulldate"></h3>
            </div>
            <div class="app" id="weatherApp">
                <span class="appTitle">Pogoda</span>
                <div class="flex">
                    <div class="child">
                        <h2>Poznań</h2>
                        <h1 class="currentTemperature"></h1>
                        <h3 class="currentState"></h3>
                        <div class="forecast">
                            <div>
                                <span>Pt.</span>
                                <span class="material-symbols-outlined fill">cloudy</span>
                                <span>3°- 8°</span>
                            </div>
                            <div>
                                <span>Sob.</span>
                                <span class="material-symbols-outlined fill">cloudy_snowing</span>
                                <span>3° - 8°</span>
                            </div>
                            <div>
                                <span>Niedz.</span>
                                <span class="material-symbols-outlined fill">clear_day</span>
                                <span>3°- 8°</span>
                            </div>
                            <div>
                                <span>Pon.</span>
                                <span class="material-symbols-outlined fill">rainy</span>
                                <span>3°- 8°</span>
                            </div>
                            <div>
                                <span>Wt.</span>
                                <span class="material-symbols-outlined fill">clear_day</span>
                                <span>3°- 8°</span>
                            </div>
                        </div>
                    </div>
                    <div class="child">
                        <h3><span class="material-symbols-outlined fill">auto_awesome</span> Podsumowanie Apollo</h3>
                        <p id="weatherSummary"></p>
                    </div>
                </div>
            </div>
            <div class="app" id="settings">
                <span class="appTitle">Ustawienia</span>
                <div class="categories">
                    <span class="category" data-category-id="uiSettings"><span
                            class="material-symbols-outlined fill">brush</span>Wygląd</span>
                    <span class="category" data-category-id="speechSettings"><span
                            class="material-symbols-outlined fill">mic</span>Mowa</span>
                    <span class="category" data-category-id="wifiSettings"><span
                            class="material-symbols-outlined fill">wifi</span>Wi-Fi</span>
                    <span class="category" data-category-id="spotifySettings"><span
                            class="material-symbols-outlined fill">music_note</span>Spotify</span>
                </div>
                <div class="content">
                    <div class="category" id="uiSettings">
                        <div class="setting-row">
                            <div class="setting-text">
                                <h3 class="setting-title">Tryb ciemny</h3>
                                <p class="setting-description">Oszczędź oczu używając wygodniejszej alternatywy do domyślnego
                                    motywu.</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" onclick="setting(this);refreshDarkMode()" id="darkModeSetting"
                                    class="setting" data-setting-key="ui.darkMode">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <input type="text" name="" id="">
                    </div>
                    <div class="category" id="speechSettings">
                        <div class="setting-row">
                            <div class="setting-text">
                                <h3 class="setting-title">Włącz mowę</h3>
                                <p class="setting-description">Sprawia, że Apollo będzie wypowiadać swoje odpowiedzi na głos
                                    przy użyciu głosu AI.</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" onclick="setting(this)" class="setting"
                                    data-setting-key="speech.enabled">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-row">
                            <div class="setting-text">
                                <h3 class="setting-title">Głos Apollo</h3>
                                <p class="setting-description">Możesz zmienić jakiego głosu będzie używać asystent.</p>
                            </div>
                            <div class="select-wrapper">
                                <select class="select setting" onchange="setting(this)" data-setting-key="speech.voice">
                                    <option value="alloy">Alloy</option>
                                    <option value="echo">Echo</option>
                                    <option value="fable">Fable</option>
                                    <option value="onyx">Onyx</option>
                                    <option value="nova">Nova</option>
                                    <option value="shimmer">Shimmer</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="category" id="wifiSettings">
                        <div class="setting-row">
                            <div class="setting-text">
                                <h3 class="setting-title">Sieć</h3>
                                <p class="setting-description">Wybierz sieć Wi-Fi której ma używać Apollo. Będzie on wymagać jej do prawidłowego funkcjonowania.</p>
                            </div>
                            <div class="scan-list">
                                <div class="el active">
                                    <span class="material-symbols-outlined">network_wifi_3_bar</span>
                                    <span>ZSL_gosc</span>
                                </div>
                                <div class="el">
                                    <span class="material-symbols-outlined">network_wifi_1_bar_locked</span>
                                    <span>testsiec</span>
                                </div>
                                <div class="footer">
                                    <span>Szukanie<span class="animated-ellipsis">...</span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="category" id="spotifySettings">
                        <div class="spotifyLoginAlert active">
                            <div class="qrBlur" id="spotifyQrBlur">
                                <span>Kontynuuj logowanie na telefonie</span>
                                <button onclick="$(this).parent().removeClass('active')">Pokaż kod QR</button>
                            </div>
                            <p>Aby korzystać z integracji Spotify, musisz podłączyć swoje konto Spotify. W tym celu zeskanuj
                                poniższy kod QR telefonem.</p>
                            <img src="" id="spotifyLoginQRCode">
                        </div>
                        <div class="spotifyDeviceAlert active">
                            <p>Aby sterować odtwarzaniem Spotify, musisz uruchomić odtwarzanie na jakimś urządzeniu.</p>
                        </div>
        
                        <p>Jeśli to widzisz to znaczy, że pomyślnie udało ci się połączyć konto Spotify!</p>
                    </div>
                </div>
            </div>
            <div class="app" id="notes">
                <span class="appTitle">Notatki</span>
                <div class="noteView">
                    <div class="noteList">
                        <div class="el">
                            <span>Lista zakupów</span>
                        </div>
                    </div>
                    
                    <div class="noteViewer">

                    </div>
                </div>
            </div>
        </div>
        
        <div class="container" id="uiContainer">
            <div class="col">
                <div class="widget sm" id="time" onclick="openApp('timeApp', this)">
                    <span class="hour shorttime"></span>
                    <span class="date shortdate"></span>
                </div>
                <div class="widget control">
                    <button onclick="toggleDarkMode(this)" id="darkModeButton"">
                            <span class=" material-symbols-outlined">
                        dark_mode
                        </span>
                    </button>
                    <button onclick="$(this).toggleClass('active')"
                        oncontextmenu="openApp('settings', $(this).parent().get(0));animateContentChange('wifiSettings')">
                        <span class="material-symbols-outlined">
                            wifi
                        </span>
                    </button>
                    <button onclick="$(this).toggleClass('active')">
                        <span class="material-symbols-outlined">
                            bluetooth
                        </span>
                    </button>
                    <button onclick="openApp('notes', $(this).parent().get(0))">
                        <span class="material-symbols-outlined">
                            text_snippet
                        </span>
                    </button>
                    <button onclick="$(this).toggleClass('active')">
                        <span class="material-symbols-outlined">
                            settings
                        </span>
                    </button>
                    <button onclick="openApp('settings', $(this).parent().get(0))">
                        <span class="material-symbols-outlined">
                            settings
                        </span>
                    </button>
                </div>
                <div class="widget lg" id="weather" onclick="openApp('weatherApp', this)">
                    <h2>Poznań</h2>
                    <h1></h1>
                    <div class="forecast">
                        <div>
                            <span></span>
                            <span class="material-symbols-outlined fill"></span>
                            <span></span>
                        </div>
                        <div>
                            <span></span>
                            <span class="material-symbols-outlined fill"></span>
                            <span></span>
                        </div>
                        <div>
                            <span></span>
                            <span class="material-symbols-outlined fill"></span>
                            <span></span>
                        </div>
                        <div>
                            <span></span>
                            <span class="material-symbols-outlined fill"></span>
                            <span></span>
                        </div>
                        <div>
                            <span></span>
                            <span class="material-symbols-outlined fill"></span>
                            <span></span>
                        </div>
                        <div>
                            <span></span>
                            <span class="material-symbols-outlined fill"></span>
                            <span></span>
                        </div>
                        <div>
                            <span></span>
                            <span class="material-symbols-outlined fill"></span>
                            <span></span>
                        </div>
                        <div>
                            <span></span>
                            <span class="material-symbols-outlined fill"></span>
                            <span></span>
                        </div>
                    </div>
                </div>
                <div class="widget sm" id="spotify">
                    <div class="spotifyLoginAlert active"
                        onclick="openApp('settings', $(this).parent().get(0));animateContentChange('spotifySettings')">
                        <p>Kliknij aby aktywować integrację ze Spotify w ustawieniach.</p>
                    </div>
                    <div class="spotifyDeviceAlert active">
                        <p>Aby sterować odtwarzaniem Spotify, musisz uruchomić odtwarzanie na jakimś urządzeniu.</p>
                    </div>
        
                    <img src="https://placehold.co/512x512" alt="">
                    <div class="meta">
                        <span class="title"><span class="text"></span></span>
                        <span class="author"><span class="text"></span></spanb>
                    </div>
                    <div class="controls">
                        <button><span class="material-symbols-outlined fill">skip_previous</span></button>
                        <button><span class="material-symbols-outlined fill">play_arrow</span></button>
                        <button><span class="material-symbols-outlined fill">skip_next</span></button>
                    </div>
                </div>
            </div>
            <div class="col" id="apolloScreen">
                <!-- Idle Screen -->
                <div class="screen idleScreen active">
                    <span class="prompt-intro">Powiedz</span>
                    <span id="examplePrompt" class="example-prompt"></span>
                </div>
        
                <!-- Combined Listening and Processing Screen -->
                <div class="screen listeningProcessingScreen">
                    <span class="prompt-intro">Słucham...</span>
                    <p id="transcript" class="transcript"></p>
                    <div class="listening-processing-indicator">
                        <div class="circle"></div>
                        <div class="circle"></div>
                        <div class="circle"></div>
                    </div>
                </div>
        
                <!-- Chat Screen -->
                <div class="screen chatScreen">
                    <div id="chatContainer" class="chat-container">
                        <div id="messagesContainer" class="messages-container">
                            <!-- Messages will be inserted here -->
                        </div>
                        <div id="typingIndicator" class="typing-indicator hidden">
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="keyboard">
        <div class="row">
            <span class="key">Q</span>
            <span class="key">W</span>
            <span class="key">E</span>
            <span class="key">R</span>
            <span class="key">T</span>
            <span class="key">Y</span>
            <span class="key">U</span>
            <span class="key">I</span>
            <span class="key">O</span>
            <span class="key">P</span>
        </div>
        <div class="row">
            <span class="key">A</span>
            <span class="key">S</span>
            <span class="key">D</span>
            <span class="key">F</span>
            <span class="key">G</span>
            <span class="key">H</span>
            <span class="key">J</span>
            <span class="key">K</span>
            <span class="key">L</span>
        </div>
        <div class="row">
            <span class="key l material-symbols-outlined" id="shiftKey">shift</span>
            <span class="key">Z</span>
            <span class="key">X</span>
            <span class="key">C</span>
            <span class="key">V</span>
            <span class="key">B</span>
            <span class="key">N</span>
            <span class="key">M</span>
            <span class="key l material-symbols-outlined" id="backspaceKey">backspace</span>
        </div>
        <div class="row">
            <span class="key l">?123</span>
            <span class="key xxl"></span>
            <span class="key l material-symbols-outlined">keyboard_return</span>
        </div>
    </div>

    <script src="./assets/js/welcome.js"></script>
    <script src="./assets/js/keyboard.js"></script>
    <script src="./assets/js/control.js"></script>
    <script src="./assets/js/apps.js"></script>
    <script src="./assets/js/screensaver.js"></script>

    <script src="./assets/js/services/time.js"></script>
    <script src="./assets/js/services/weather.js"></script>
    <script src="./assets/js/services/settings.js"></script>
    <script src="./assets/js/services/spotify.js"></script>
    <script src="./assets/js/services/assistant.js"></script>
    <script src="./assets/js/services/memos.js"></script>
</body>